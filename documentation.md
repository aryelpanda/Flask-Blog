# Flask Blog Application - User Management Blueprint

This module implements user management functionality for the Flask blog application using the `Blueprint` feature for modularization. It handles user registration, login, logout, account updates, and password reset functionality, while integrating core Flask extensions such as `flask_login` for session management and `flask_bcrypt` for secure password hashing.

## Table of Contents
- [Technologies Used](#technologies-used)
- [Routes and Functions](#routes-and-functions)
  - [/register](#register-user-registration)
  - [/login](#login-user-login)
  - [/logout](#logout-user-logout)
  - [/account](#account-account-management)
  - [/user/<username>](#userusername-view-users-posts)
  - [/reset_password](#reset_password-password-reset-request)
  - [/reset_password/<token>](#reset_passwordtoken-reset-password-using-token)
- [Security Considerations](#security-considerations)

## Technologies Used
- **Flask**: A lightweight Python web framework for building web applications.
- **Flask-Login**: A user session management extension for Flask.
- **Flask-Bcrypt**: A library for hashing passwords securely.
- **SQLAlchemy**: An ORM (Object Relational Mapper) for database interactions.
- **WTForms**: A flexible forms validation and rendering library.
- **Itsdangerous**: A library for creating secure tokens, used for password resets.

## Routes and Functions

### `/register` (User Registration)
- **Methods**: `GET`, `POST`
- **Description**: 
  - Renders the registration page and processes new user registration.
  - Redirects authenticated users to the homepage.
  - Hashes the password using `bcrypt` and stores user credentials in the database.
  - Displays a success message upon successful registration.

### `/login` (User Login)
- **Methods**: `GET`, `POST`
- **Description**:
  - Handles user authentication and redirects authenticated users to the homepage.
  - Validates user credentials against the database and manages user sessions.
  - Displays an error message if login fails.

### `/logout` (User Logout)
- **Methods**: `GET`
- **Description**: 
  - Logs out the current user and redirects them to the homepage.

### `/account` (Account Management)
- **Methods**: `GET`, `POST`
- **Description**:
  - Manages user account updates, including username, email, and profile picture.
  - Allows authenticated users to update their details with form validation.
  - Displays the current user's data in the form for updates.

### `/user/<username>` (View User's Posts)
- **Methods**: `GET`
- **Description**:
  - Displays all posts authored by a specific user, paginated to show 5 posts per page.
  - Raises a 404 error if the user is not found.

### `/reset_password` (Password Reset Request)
- **Methods**: `GET`, `POST`
- **Description**:
  - Manages password reset requests and sends a reset email to the user.
  - Redirects authenticated users to the homepage.
  - Utilizes the `send_reset_email` utility to dispatch password reset instructions.

### `/reset_password/<token>` (Reset Password Using Token)
- **Methods**: `GET`, `POST`
- **Description**:
  - Validates the provided token and allows the user to reset their password.
  - Redirects to the password reset request page if the token is invalid.
  - Updates the user's password securely after form validation.

## Security Considerations
- **Password Hashing**: All passwords are hashed using `bcrypt`, ensuring sensitive information is never stored in plain text.
- **Token-Based Password Recovery**: Password reset functionality utilizes time-limited tokens generated by `itsdangerous`, enhancing security.
- **Authentication Control**: The application ensures that sensitive actions are only performed by authenticated users using `flask_login`.

---

.
